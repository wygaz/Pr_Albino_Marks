{% extends "base.html" %}
{% load static %}

{% block content %}
<!-- 
<link rel="stylesheet" href="{% static 'css/form-artigo.css' %}">
-->

<div class="page-wrap">
  <div class="form-card">
    <h2 class="form-title">üìÑ Criar Novo Artigo</h2>

    {% if form.titulo.errors %}
      <div class="alert alert-warning d-flex align-items-center" role="alert" id="alertaTitulo" style="margin-bottom:14px">
        <span class="me-2">‚ö†Ô∏è</span>
        <div><strong>Aten√ß√£o:</strong> N√£o foi poss√≠vel detectar o t√≠tulo automaticamente. Insira-o manualmente.</div>
      </div>
      <audio id="audioAlerta" autoplay>
        <source src="{% static 'audio/Voz_Insira_o_titulo_manuamente.mp3' %}" type="audio/mpeg">
        Seu navegador n√£o suporta √°udio HTML5.
      </audio>
    {% endif %}

    <form method="post" enctype="multipart/form-data" id="artigo-form">
      {% csrf_token %}

      <!-- T√≠tulo (linha inteira) -->
      <div class="form-row full">
        {{ form.titulo.label_tag }}
        {{ form.titulo }}
      </div>

      <!-- Ordem pedida: PDF -> DOCX -> IMAGEM -->
      <div class="form-row">
        {{ form.arquivo_pdf.label_tag }}
        {{ form.arquivo_pdf }}
        <div class="help">PDF at√© 20 MB.</div>
      </div>

      <div class="form-row">
        {{ form.arquivo_word.label_tag }}
        {{ form.arquivo_word }}
        <div class="help">DOCX at√© 20 MB.</div>
      </div>

      <div class="form-row full">
        {{ form.imagem_capa.label_tag }}
        {{ form.imagem_capa }}
        <div class="help">PNG, JPG ou WEBP.</div>
      </div>

      <!-- Demais campos -->
      <div class="form-row">
        {{ form.publicado_em.label_tag }}
        {{ form.publicado_em }}
      </div>

      <div class="form-row">
        {{ form.ordem.label_tag }}
        {{ form.ordem }}
      </div>

      <div class="form-row">
        {{ form.visivel.label_tag }}
        {{ form.visivel }}
      </div>

      <div class="form-row">
        {{ form.autor.label_tag }}
        {{ form.autor }}
      </div>

      <div class="form-row">
        {{ form.area.label_tag }}
        {{ form.area }}
      </div>

      <div class="actions full">
        <button type="submit" class="btn btn-save">üíæ Salvar</button>
        <a href="{% url 'listar_artigos' %}" class="btn btn-cancel">Cancelar</a>
      </div>
    </form>
  </div>
</div>
{% endblock %}
